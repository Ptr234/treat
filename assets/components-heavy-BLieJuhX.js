import{r as d,j as e}from"./vendor-react-DKSiDIWS.js";import{u as U,g as E,L as M}from"./components-common-B_-fNfOl.js";import{n as $}from"./utils-core-Dh4FrfGx.js";import{A as L,m as y}from"./vendor-animation-Bk3MpbEf.js";const z=({isOpen:i=!0,onClose:j=()=>{}})=>{const{addNotification:s}=U(),[a,f]=d.useState({clientName:"",clientEmail:"",clientPhone:"",clientAddress:"",clientTin:"",selectedAgency:"UIA",invoiceNumber:`INV-${Date.now()}`,invoiceDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],items:[{id:1,description:"Investment Consultation Service",quantity:1,unitPrice:5e5,taxRate:18}],notes:"Thank you for choosing Uganda Investment Authority services.",terms:"Payment is due within 30 days of invoice date. Late payments may incur additional charges.",currency:"UGX",exchangeRate:1}),p=d.useMemo(()=>[{key:"UIA",name:"Uganda Investment Authority"},{key:"URA",name:"Uganda Revenue Authority"},{key:"URSB",name:"Uganda Registration Services Bureau"},{key:"UTB",name:"Uganda Tourism Board"},{key:"BOU",name:"Bank of Uganda"},{key:"KCCA",name:"Kampala Capital City Authority"},{key:"NEMA",name:"National Environment Management Authority"},{key:"MAAIF",name:"Ministry of Agriculture"},{key:"MEMD",name:"Ministry of Energy and Mineral Development"},{key:"MTIC",name:"Ministry of Trade, Industry and Cooperatives"},{key:"NITA",name:"National Information Technology Authority"},{key:"UCC",name:"Uganda Communications Commission"},{key:"UNEB",name:"Uganda National Examinations Board"},{key:"UHEB",name:"Uganda Higher Education Board"},{key:"CIVIL_AVIATION",name:"Civil Aviation Authority"},{key:"DRUG_AUTHORITY",name:"National Drug Authority"},{key:"PAU",name:"Patents and Trademarks Office"},{key:"UMR",name:"Uganda Manufacturers Association"}],[]),c=d.useMemo(()=>E(a.selectedAgency),[a.selectedAgency]),C=d.useMemo(()=>{const t={UIA:[{description:"Investment License Application",price:5e5},{description:"Investment Consultation Service",price:3e5},{description:"Investment Promotion Package",price:75e4},{description:"Investment Aftercare Service",price:4e5}],URA:[{description:"Tax Registration (TIN)",price:0},{description:"VAT Registration",price:0},{description:"Tax Compliance Certificate",price:5e4},{description:"Tax Clearance Certificate",price:1e5}],URSB:[{description:"Company Registration",price:105e3},{description:"Business Name Registration",price:5e4},{description:"Annual Return Filing",price:75e3},{description:"Certificate Amendment",price:15e4}],UTB:[{description:"Tourism License",price:2e5},{description:"Tourism Promotion Service",price:4e5},{description:"Tourism Certification",price:15e4},{description:"Tourism Marketing Package",price:6e5}],default:[{description:"Consultation Service",price:2e5},{description:"Processing Fee",price:1e5},{description:"Certificate Fee",price:15e4},{description:"Administrative Fee",price:5e4}]};return t[a.selectedAgency]||t.default},[a.selectedAgency]),g=d.useMemo(()=>{const t=a.items.reduce((u,o)=>u+o.quantity*o.unitPrice,0),n=a.items.reduce((u,o)=>u+o.quantity*o.unitPrice*(o.taxRate/100),0),l=t+n;return{subtotal:t,totalTax:n,total:l,subtotalFormatted:new Intl.NumberFormat("en-UG").format(t),totalTaxFormatted:new Intl.NumberFormat("en-UG").format(n),totalFormatted:new Intl.NumberFormat("en-UG").format(l)}},[a.items]),r=d.useCallback((t,n)=>{f(l=>({...l,[t]:n}))},[]),m=d.useCallback(()=>{const t={id:Date.now(),description:"",quantity:1,unitPrice:0,taxRate:18};f(n=>({...n,items:[...n.items,t]}))},[]),x=d.useCallback((t,n,l)=>{f(u=>({...u,items:u.items.map(o=>o.id===t?{...o,[n]:l}:o)}))},[]),N=d.useCallback(t=>{f(n=>({...n,items:n.items.filter(l=>l.id!==t)}))},[]),w=d.useCallback(t=>{const n={id:Date.now(),description:t.description,quantity:1,unitPrice:t.price,taxRate:18};f(l=>({...l,items:[...l.items,n]})),s({type:"success",title:"Service Added",message:`${t.description} added to invoice`,duration:3e3})},[s]),v=d.useCallback(async()=>{const t=async()=>{if(!a.clientName.trim()){s({type:"error",title:"Validation Error",message:"Client name is required",duration:5e3});return}if(a.items.length===0){s({type:"error",title:"Validation Error",message:"At least one item is required",duration:5e3});return}const l=`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice ${a.invoiceNumber}</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; background: white; }
        .invoice-container { max-width: 800px; margin: 0 auto; padding: 20px; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; border-bottom: 3px solid #FFD700; padding-bottom: 20px; }
        .logo-section { display: flex; align-items: center; gap: 15px; }
        .logo { width: 80px; height: 80px; object-fit: contain; }
        .agency-info h1 { color: #000; font-size: 1.8rem; margin-bottom: 5px; }
        .agency-info p { color: #666; font-size: 0.9rem; }
        .invoice-title { text-align: right; }
        .invoice-title h2 { color: #DC2626; font-size: 2rem; margin-bottom: 10px; }
        .invoice-number { background: #FFD700; color: #000; padding: 8px 15px; border-radius: 5px; font-weight: bold; }
        
        .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
        .bill-to, .invoice-info { background: #f8f9fa; padding: 20px; border-radius: 8px; }
        .bill-to h3, .invoice-info h3 { color: #000; margin-bottom: 15px; border-bottom: 2px solid #FFD700; padding-bottom: 5px; }
        
        .items-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .items-table th { background: linear-gradient(135deg, #FFD700, #FFA500); color: #000; padding: 15px; text-align: left; font-weight: bold; }
        .items-table td { padding: 12px 15px; border-bottom: 1px solid #eee; }
        .items-table tr:nth-child(even) { background: #f8f9fa; }
        .items-table tr:hover { background: #fff3cd; }
        
        .totals { max-width: 400px; margin-left: auto; background: #fff; border: 2px solid #FFD700; border-radius: 8px; overflow: hidden; }
        .totals-row { display: flex; justify-content: space-between; padding: 12px 20px; }
        .totals-row:not(:last-child) { border-bottom: 1px solid #eee; }
        .totals-row.total { background: linear-gradient(135deg, #FFD700, #FFA500); color: #000; font-weight: bold; font-size: 1.1rem; }
        
        .footer { margin-top: 40px; padding-top: 20px; border-top: 2px solid #eee; }
        .footer-section { margin-bottom: 20px; }
        .footer-section h4 { color: #000; margin-bottom: 10px; }
        .footer-section p { color: #666; font-size: 0.9rem; }
        
        .contact-info { background: #f8f9fa; padding: 15px; border-radius: 5px; margin-top: 20px; }
        .contact-info h4 { color: #DC2626; margin-bottom: 10px; }
        .contact-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
        
        @media print { 
            body { -webkit-print-color-adjust: exact; } 
            .invoice-container { max-width: none; margin: 0; padding: 15px; }
        }
        
        .watermark { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-45deg); 
                    font-size: 6rem; color: rgba(255, 215, 0, 0.1); z-index: -1; font-weight: bold; 
                    pointer-events: none; user-select: none; }
    </style>
</head>
<body>
    <div class="watermark">UGANDA INVESTMENT</div>
    <div class="invoice-container">
        <div class="header">
            <div class="logo-section">
                <img src="${c.logo}" alt="${c.agency}" class="logo" onerror="this.src='/images/uganda-coat-of-arms.png'">
                <div class="agency-info">
                    <h1>${c.agency}</h1>
                    <p>Official Government Service Provider</p>
                    <p><strong>Republic of Uganda</strong></p>
                </div>
            </div>
            <div class="invoice-title">
                <h2>OFFICIAL INVOICE</h2>
                <div class="invoice-number">#${a.invoiceNumber}</div>
            </div>
        </div>

        <div class="invoice-details">
            <div class="bill-to">
                <h3>üìã BILL TO</h3>
                <p><strong>${a.clientName||"Client Name"}</strong></p>
                <p>üìß ${a.clientEmail||"client@email.com"}</p>
                <p>üìû ${a.clientPhone||"+256 XXX XXX XXX"}</p>
                <p>üìç ${a.clientAddress||"Client Address"}</p>
                ${a.clientTin?`<p><strong>TIN:</strong> ${a.clientTin}</p>`:""}
            </div>
            <div class="invoice-info">
                <h3>üóìÔ∏è INVOICE DETAILS</h3>
                <p><strong>Invoice Date:</strong> ${new Date(a.invoiceDate).toLocaleDateString("en-GB")}</p>
                <p><strong>Due Date:</strong> ${new Date(a.dueDate).toLocaleDateString("en-GB")}</p>
                <p><strong>Currency:</strong> ${a.currency}</p>
                <p><strong>Payment Terms:</strong> Net 30 Days</p>
            </div>
        </div>

        <table class="items-table">
            <thead>
                <tr>
                    <th style="width: 50%">üìã DESCRIPTION</th>
                    <th style="width: 10%">QTY</th>
                    <th style="width: 15%">UNIT PRICE</th>
                    <th style="width: 10%">TAX %</th>
                    <th style="width: 15%">TOTAL</th>
                </tr>
            </thead>
            <tbody>
                ${a.items.map(b=>`
                    <tr>
                        <td><strong>${b.description}</strong></td>
                        <td>${b.quantity}</td>
                        <td>${a.currency} ${new Intl.NumberFormat("en-UG").format(b.unitPrice)}</td>
                        <td>${b.taxRate}%</td>
                        <td><strong>${a.currency} ${new Intl.NumberFormat("en-UG").format(b.quantity*b.unitPrice)}</strong></td>
                    </tr>
                `).join("")}
            </tbody>
        </table>

        <div class="totals">
            <div class="totals-row">
                <span>Subtotal:</span>
                <span><strong>${a.currency} ${g.subtotalFormatted}</strong></span>
            </div>
            <div class="totals-row">
                <span>Total Tax (VAT):</span>
                <span><strong>${a.currency} ${g.totalTaxFormatted}</strong></span>
            </div>
            <div class="totals-row total">
                <span>TOTAL AMOUNT:</span>
                <span><strong>${a.currency} ${g.totalFormatted}</strong></span>
            </div>
        </div>

        <div class="footer">
            ${a.notes?`
            <div class="footer-section">
                <h4>üìù NOTES</h4>
                <p>${a.notes}</p>
            </div>`:""}
            
            <div class="footer-section">
                <h4>üìã TERMS & CONDITIONS</h4>
                <p>${a.terms}</p>
            </div>

            <div class="contact-info">
                <h4>üìû AGENCY CONTACT INFORMATION</h4>
                <div class="contact-grid">
                    <p><strong>üìß Email:</strong> ${c.email}</p>
                    <p><strong>üìû Phone:</strong> ${c.phone}</p>
                    <p><strong>üåê Website:</strong> ${c.website}</p>
                    <p><strong>üìç Address:</strong> ${c.address}</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>`,u=new Blob([l],{type:"text/html"}),o=URL.createObjectURL(u),h=document.createElement("a");h.href=o,h.download=`Invoice_${a.invoiceNumber}_${c.agency.replace(/\s+/g,"_")}.html`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(o),s({type:"success",title:"Invoice Generated Successfully",message:`Professional invoice ${a.invoiceNumber} downloaded`,duration:5e3})},n=await $.safeExecute(t,null,"generating invoice");n.success||s({type:"error",title:"Generation Failed",message:n.error||"Failed to generate invoice. Please try again.",duration:5e3})},[a,c,g,s]);return i?e.jsx(L,{children:e.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",onClick:j,children:e.jsxs(y.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-auto",onClick:t=>t.stopPropagation(),children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-yellow-500 to-red-500 text-black p-6 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-black rounded-xl flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Professional Invoice Generator"}),e.jsx("p",{className:"opacity-90",children:"Generate official invoices for Uganda government services"})]})]}),e.jsx("button",{onClick:j,className:"w-10 h-10 bg-black/20 hover:bg-black/40 rounded-full flex items-center justify-center transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(M,{src:c.logo,alt:c.agency,className:"w-8 h-8 object-contain mr-3",fallbackSrc:"/images/uganda-coat-of-arms.png"}),"Select Government Agency"]}),e.jsx("select",{value:a.selectedAgency,onChange:t=>r("selectedAgency",t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:p.map(t=>e.jsx("option",{value:t.key,children:t.name},t.key))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Client Information"}),e.jsx("input",{type:"text",placeholder:"Client Name",value:a.clientName,onChange:t=>r("clientName",t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsx("input",{type:"email",placeholder:"Client Email",value:a.clientEmail,onChange:t=>r("clientEmail",t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsx("input",{type:"tel",placeholder:"Client Phone",value:a.clientPhone,onChange:t=>r("clientPhone",t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsx("textarea",{placeholder:"Client Address",value:a.clientAddress,onChange:t=>r("clientAddress",t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:3}),e.jsx("input",{type:"text",placeholder:"Client TIN (Optional)",value:a.clientTin,onChange:t=>r("clientTin",t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Details"}),e.jsx("input",{type:"text",placeholder:"Invoice Number",value:a.invoiceNumber,onChange:t=>r("invoiceNumber",t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsx("input",{type:"date",value:a.invoiceDate,onChange:t=>r("invoiceDate",t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsx("input",{type:"date",value:a.dueDate,onChange:t=>r("dueDate",t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsxs("select",{value:a.currency,onChange:t=>r("currency",t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[e.jsx("option",{value:"UGX",children:"Ugandan Shilling (UGX)"}),e.jsx("option",{value:"USD",children:"US Dollar (USD)"}),e.jsx("option",{value:"EUR",children:"Euro (EUR)"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Add Services"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:C.map((t,n)=>e.jsxs("button",{onClick:()=>w(t),className:"p-3 bg-white border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors text-left",children:[e.jsx("div",{className:"font-medium text-sm",children:t.description}),e.jsxs("div",{className:"text-green-600 font-semibold",children:[a.currency," ",new Intl.NumberFormat("en-UG").format(t.price)]})]},n))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Items"}),e.jsxs("button",{onClick:m,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"Add Item"})]})]}),e.jsx("div",{className:"space-y-3",children:a.items.map(t=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg grid grid-cols-1 md:grid-cols-6 gap-3 items-center",children:[e.jsx("input",{type:"text",placeholder:"Description",value:t.description,onChange:n=>x(t.id,"description",n.target.value),className:"md:col-span-2 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsx("input",{type:"number",placeholder:"Qty",value:t.quantity,onChange:n=>x(t.id,"quantity",parseFloat(n.target.value)||0),className:"p-2 border border-gray-300 rounded focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsx("input",{type:"number",placeholder:"Unit Price",value:t.unitPrice,onChange:n=>x(t.id,"unitPrice",parseFloat(n.target.value)||0),className:"p-2 border border-gray-300 rounded focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsx("input",{type:"number",placeholder:"Tax %",value:t.taxRate,onChange:n=>x(t.id,"taxRate",parseFloat(n.target.value)||0),className:"p-2 border border-gray-300 rounded focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-semibold text-green-600",children:[a.currency," ",new Intl.NumberFormat("en-UG").format(t.quantity*t.unitPrice)]}),e.jsx("button",{onClick:()=>N(t.id),className:"text-red-600 hover:text-red-800 p-1",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},t.id))})]}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-red-50 rounded-xl p-6",children:e.jsxs("div",{className:"max-w-md ml-auto space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),e.jsxs("span",{className:"font-semibold",children:[a.currency," ",g.subtotalFormatted]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Tax:"}),e.jsxs("span",{className:"font-semibold",children:[a.currency," ",g.totalTaxFormatted]})]}),e.jsxs("div",{className:"flex justify-between items-center text-xl font-bold border-t pt-3",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{className:"text-green-600",children:[a.currency," ",g.totalFormatted]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),e.jsx("textarea",{value:a.notes,onChange:t=>r("notes",t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Terms & Conditions"}),e.jsx("textarea",{value:a.terms,onChange:t=>r("terms",t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:4})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:j,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:v,className:"px-8 py-3 bg-gradient-to-r from-yellow-500 to-red-500 text-black font-semibold rounded-lg hover:shadow-lg transition-all flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{children:"Generate Professional Invoice"})]})]})]})]})})}):null},q=()=>{const[i,j]=d.useState({initialInvestment:"",sector:"",projectDuration:"5",annualRevenue:"",operatingCosts:"",employeeCount:"",location:"",isATMSQualified:!1}),[s,a]=d.useState(null),{addNotification:f}=U(),p=r=>{const{name:m,value:x,type:N,checked:w}=r.target;j(v=>({...v,[m]:N==="checkbox"?w:x}))},c=()=>{const r=parseFloat(i.initialInvestment)||0,m=parseInt(i.projectDuration)||5,x=parseFloat(i.annualRevenue)||0,N=parseFloat(i.operatingCosts)||0,w=parseInt(i.employeeCount)||0;if(r===0||x===0){f({type:"error",title:"Missing Information",message:"Please enter initial investment and expected annual revenue",duration:3e3});return}const v={agriculture:{multiplier:1.2,taxCredit:.1,description:"Agriculture & Agribusiness"},tourism:{multiplier:1.4,taxCredit:.15,description:"Tourism & Hospitality"},manufacturing:{multiplier:1.3,taxCredit:.12,description:"Manufacturing"},ict:{multiplier:1.6,taxCredit:.2,description:"ICT & Digital Services"},mining:{multiplier:1.1,taxCredit:.08,description:"Mining & Minerals"},energy:{multiplier:1.5,taxCredit:.18,description:"Energy & Renewables"},healthcare:{multiplier:1.25,taxCredit:.12,description:"Healthcare & Pharmaceuticals"},education:{multiplier:1.15,taxCredit:.1,description:"Education & Training"},other:{multiplier:1,taxCredit:.05,description:"Other Sectors"}},t=v[i.sector]||v.other,n=x*t.multiplier,l=.3,u=n-N,o=u*l,h=i.isATMSQualified?r*t.taxCredit:0,b=Math.max(0,o-h/m),I=u-b,A=I*m,T=A-r,k=T/r*100,R=k/m,F=r/I,S=w,D=S*24e5*m,P={kampala:.1,central:.15,western:.2,eastern:.25,northern:.3,other:.2}[i.location]||.2,O=R*(1-P);a({sector:t,initial:r,duration:m,annualRevenue:n,annualProfit:u,netAnnualCashFlow:I,totalCashFlow:A,totalProfit:T,roi:k,annualROI:R,riskAdjustedROI:O,paybackPeriod:F,taxCredit:h,taxSavings:h,jobsCreated:S,economicImpact:D,normalTax:o*m,actualTax:b*m}),f({type:"success",title:"ROI Analysis Complete",message:`Projected ROI: ${k.toFixed(1)}% over ${m} years`,duration:5e3})},C=[{value:"agriculture",label:"Agriculture & Agribusiness (20% growth potential)"},{value:"tourism",label:"Tourism & Hospitality (40% growth potential)"},{value:"manufacturing",label:"Manufacturing (30% growth potential)"},{value:"ict",label:"ICT & Digital Services (60% growth potential)"},{value:"mining",label:"Mining & Minerals (10% growth potential)"},{value:"energy",label:"Energy & Renewables (50% growth potential)"},{value:"healthcare",label:"Healthcare & Pharmaceuticals (25% growth potential)"},{value:"education",label:"Education & Training (15% growth potential)"},{value:"other",label:"Other Sectors"}],g=[{value:"kampala",label:"Kampala (Lowest Risk)"},{value:"central",label:"Central Region"},{value:"western",label:"Western Region"},{value:"eastern",label:"Eastern Region"},{value:"northern",label:"Northern Region"},{value:"other",label:"Other Location"}];return e.jsx("section",{id:"roi-calculator",className:"py-20 px-4 bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs(y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Investment ROI Calculator"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Analyze potential returns and tax benefits for investments in Uganda"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(y.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6},className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Investment Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Initial Investment (UGX) *"}),e.jsx("input",{type:"number",name:"initialInvestment",value:i.initialInvestment,onChange:p,placeholder:"e.g., 500,000,000",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Investment Sector *"}),e.jsxs("select",{name:"sector",value:i.sector,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select sector"}),C.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Duration (Years)"}),e.jsxs("select",{name:"projectDuration",value:i.projectDuration,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"3",children:"3 Years"}),e.jsx("option",{value:"5",children:"5 Years"}),e.jsx("option",{value:"7",children:"7 Years"}),e.jsx("option",{value:"10",children:"10 Years"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Annual Revenue (UGX) *"}),e.jsx("input",{type:"number",name:"annualRevenue",value:i.annualRevenue,onChange:p,placeholder:"e.g., 200,000,000",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Annual Operating Costs (UGX)"}),e.jsx("input",{type:"number",name:"operatingCosts",value:i.operatingCosts,onChange:p,placeholder:"e.g., 120,000,000",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employees to be Hired"}),e.jsx("input",{type:"number",name:"employeeCount",value:i.employeeCount,onChange:p,placeholder:"e.g., 50",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Investment Location"}),e.jsxs("select",{name:"location",value:i.location,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select location"}),g.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"atms",name:"isATMSQualified",checked:i.isATMSQualified,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"atms",className:"ml-2 block text-sm text-gray-700",children:"Qualifies for ATMS Investment Incentives"})]}),e.jsx("button",{onClick:c,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-600 hover:to-indigo-700 transition-colors",children:"Calculate ROI"})]})]}),e.jsxs(y.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6},className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"ROI Analysis"}),s?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border border-green-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[s.roi.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total ROI"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[s.annualROI.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Annual ROI"})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700",children:"Initial Investment:"}),e.jsxs("span",{className:"font-semibold",children:["UGX ",s.initial.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700",children:"Annual Profit:"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["UGX ",s.annualProfit.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsxs("span",{className:"text-gray-700",children:["Total Profit (",s.duration," years):"]}),e.jsxs("span",{className:"font-semibold text-green-600",children:["UGX ",s.totalProfit.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700",children:"Payback Period:"}),e.jsxs("span",{className:"font-semibold",children:[s.paybackPeriod.toFixed(1)," years"]})]}),s.taxSavings>0&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-green-200 bg-green-50",children:[e.jsx("span",{className:"text-green-700 font-medium",children:"ATMS Tax Savings:"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["UGX ",s.taxSavings.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-700",children:"Risk-Adjusted ROI:"}),e.jsxs("span",{className:"font-semibold text-orange-600",children:[s.riskAdjustedROI.toFixed(1),"% annually"]})]})]}),s.jobsCreated>0&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Economic Impact"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 block",children:"Jobs Created:"}),e.jsxs("span",{className:"font-semibold",children:[s.jobsCreated," positions"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 block",children:"Economic Value:"}),e.jsxs("span",{className:"font-semibold",children:["UGX ",s.economicImpact.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Investment Summary"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Your ",s.sector.description.toLowerCase()," investment shows strong potential with a ",s.roi.toFixed(1),"% total return over ",s.duration," years.",s.taxSavings>0&&` ATMS incentives provide UGX ${s.taxSavings.toLocaleString()} in tax benefits.`,s.jobsCreated>0&&` This project will create ${s.jobsCreated} jobs, contributing significantly to Uganda's economic development.`]})]})]}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üìä"}),e.jsx("p",{children:"Enter your investment details to see detailed ROI analysis with tax benefits and economic impact."})]})]})]}),e.jsxs(y.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mt-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl p-8 text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Uganda Investment Sectors - Growth Potential"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üíª ICT Sector"}),e.jsx("p",{className:"text-sm opacity-90",children:"Highest growth potential (60%) with 20% ATMS tax credits. Digital transformation driving demand."})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"‚ö° Energy Sector"}),e.jsx("p",{className:"text-sm opacity-90",children:"50% growth potential with 18% tax credits. Renewable energy focus creates opportunities."})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üèñÔ∏è Tourism Sector"}),e.jsx("p",{className:"text-sm opacity-90",children:"40% growth potential with 15% tax credits. Post-COVID recovery driving strong returns."})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üè≠ Manufacturing"}),e.jsx("p",{className:"text-sm opacity-90",children:"30% growth potential with 12% tax credits. Value addition focus supports local production."})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üíä Healthcare"}),e.jsx("p",{className:"text-sm opacity-90",children:"25% growth potential with 12% tax credits. Growing middle class increases healthcare demand."})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üåæ Agriculture"}),e.jsx("p",{className:"text-sm opacity-90",children:"20% growth potential with 10% tax credits. Food security focus creates stable returns."})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm opacity-90",children:["üí° ",e.jsx("strong",{children:"Pro Tip:"})," Combine multiple sectors or focus on high-growth areas like ICT and Energy for maximum ROI potential."]})})]})]})})};export{q as I,z as P};
